# We have a conf and classes directory, add to BBPATH
BBPATH .= ":${LAYERDIR}"

# We have recipes-* directories, add to BBFILES
BBFILES += "${LAYERDIR}/recipes-*/*/*.bb \
	${LAYERDIR}/recipes-*/*/*.bbappend"

BBFILE_COLLECTIONS += "rtos-industrial"
BBFILE_PATTERN_rtos-industrial = "^${LAYERDIR}/"
BBFILE_PRIORITY_rtos-industrial = "6"

# This should only be incremented on significant changes that will
# cause compatibility issues with other layers
LAYERVERSION_rtos-industrial = "1"

LAYERDEPENDS_rtos-industrial = "core"

LAYERSERIES_COMPAT_rtos-industrial = "mickledore nanbield"

# Common SRC setting
NXPMICRO_BASE = "github.com/nxp-mcuxpresso"
NXP_BASE = "github.com/NXP"
NXP_REAL_TIME_EDGE_BASE = "github.com/nxp-real-time-edge-sw"
NXP_ZEPHYR_BASE = "github.com/nxp-zephyr"

MCUX_SDK_SRC ?= "git://${NXPMICRO_BASE}/mcux-sdk.git;protocol=https;nobranch=1"
MCUX_SDK_EXAMPLES_SRC ?= "git://${NXPMICRO_BASE}/mcux-sdk-examples;protocol=https;nobranch=1"
MCUX_SDK_MIDDLEWARE_MULTICORE_SRC ?= "git://${NXPMICRO_BASE}/mcux-sdk-middleware-multicore.git;protocol=https;nobranch=1"
CMSIS_SRC ?= "git://${NXPMICRO_BASE}/CMSIS_5.git;protocol=https;nobranch=1"
FREERTOS_KERNEL_SRC ?= "git://${NXPMICRO_BASE}/FreeRTOS-Kernel.git;protocol=https;nobranch=1"
RPMSG_LITE_SRC ?= "git://${NXPMICRO_BASE}/rpmsg-lite.git;protocol=https;nobranch=1"
LWIP_SRC ?= "git://${NXPMICRO_BASE}/lwip.git;protocol=https;nobranch=1"
HETEROGENEOUS_MULTICORE_SRC ?= "git://${NXP_REAL_TIME_EDGE_BASE}/heterogeneous-multicore.git;protocol=https;nobranch=1"
SOEM_SRC ?= "git://${NXP_REAL_TIME_EDGE_BASE}/soem.git;protocol=https;nobranch=1"
ZEPHYR_SRC ?= "git://${NXP_ZEPHYR_BASE}/zephyr.git;protocol=https;nobranch=1"
HAL_NXP_SRC ?= "git://${NXP_ZEPHYR_BASE}/hal_nxp.git;protocol=https;nobranch=1"

# Repo version
MCUX_SDK_SRCREV ?= "8abe276c392f547120c595134497153cc6b95919"
MCUX_SDK_EXAMPLES_SRCREV ?= "06f7ff2883e614c520cc97cc321caf67b7d88c1c"
MCUX_SDK_MIDDLEWARE_MULTICORE_SRCREV ?= "7ae65fe481b70093d71c4ffd7e2f9f1427717035"
CMSIS_SRCREV ?= "076b2d56a6bbe5c9d75f1bb6adbd9417a6eef3ae"
FREERTOS_KERNEL_SRCREV ?= "2236f887ee773c267515b17d023c77e305efb0f1"
RPMSG_LITE_SRCREV ?= "436596cd4443d5cedd043291f45ac21504e70a4a"
LWIP_SRCREV ?= "5e1d1678fde4bb36ac1f4fe34ec0f273374c9304"
HETEROGENEOUS_MULTICORE_SRCREV ?= "6518f065ef01ddc6a5752e5885c40607f518ad40"
SOEM_SRCREV ?= "b5162a5cefc53454140664a73d2b2b46feb72638"
ZEPHYR_SRCREV ?= "b17a20fbf0fb13e170821678ed386365e8e3c6c0"
HAL_NXP_SRCREV ?= "71180738eca0dfed31a924019f3e7f6b47d946b5"

# Change related repos to the internal link for development
MCUX_SDK_SRC = "git://bitbucket.sw.nxp.com/dnind/mcux-sdk.git;protocol=ssh;branch=feature/heterogeneous_multicore"
MCUX_SDK_EXAMPLES_SRC = "git://bitbucket.sw.nxp.com/dnind/mcux-sdk-examples.git;protocol=ssh;branch=feature/heterogeneous_multicore"
MCUX_SDK_MIDDLEWARE_MULTICORE_SRC = "git://bitbucket.sw.nxp.com/dnind/mcux-sdk-middleware-multicore.git;protocol=ssh;branch=feature/heterogeneous_multicore"
CMSIS_SRC = "git://bitbucket.sw.nxp.com/dnind/cmsis_5.git;protocol=ssh;branch=feature/heterogeneous_multicore"
FREERTOS_KERNEL_SRC = "git://bitbucket.sw.nxp.com/dnind/freertos-kernel.git;protocol=ssh;branch=feature/heterogeneous_multicore"
RPMSG_LITE_SRC = "git://bitbucket.sw.nxp.com/dnind/rpmsg-lite.git;protocol=ssh;branch=feature/heterogeneous_multicore"
LWIP_SRC = "git://bitbucket.sw.nxp.com/dnind/lwip.git;protocol=ssh;branch=feature/heterogeneous_multicore"
HETEROGENEOUS_MULTICORE_SRC = "git://bitbucket.sw.nxp.com/dnind/heterogeneous-multicore.git;protocol=ssh;branch=master"
SOEM_SRC = "git://bitbucket.sw.nxp.com/dnind/soem.git;protocol=ssh;branch=master"
ZEPHYR_SRC = "git://bitbucket.sw.nxp.com/dnind/zephyr.git;protocol=ssh;branch=feature/heterogeneous_multicore"
HAL_NXP_SRC = "git://bitbucket.sw.nxp.com/dnind/hal_nxp.git;protocol=ssh;branch=feature/heterogeneous_multicore"

# Repo version
MCUX_SDK_SRCREV = "${AUTOREV}"
MCUX_SDK_EXAMPLES_SRCREV = "${AUTOREV}"
MCUX_SDK_MIDDLEWARE_MULTICORE_SRCREV = "${AUTOREV}"
CMSIS_SRCREV = "${AUTOREV}"
FREERTOS_KERNEL_SRCREV = "${AUTOREV}"
RPMSG_LITE_SRCREV = "${AUTOREV}"
LWIP_SRCREV = "${AUTOREV}"
HETEROGENEOUS_MULTICORE_SRCREV = "${AUTOREV}"
SOEM_SRCREV = "${AUTOREV}"
ZEPHYR_SRCREV = "${AUTOREV}"
HAL_NXP_SRCREV = "${AUTOREV}"
